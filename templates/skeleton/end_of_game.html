{% extends "skeleton/base.html" %}

{% block extra_css %}
<link rel="stylesheet" href="/static/css/end_of_game.css">
{% endblock %}

{% block page_title %}Pied Piper Game End{% endblock %}

{% block content %}

    <!-- Winner Window -->
    <section id="winnerCelebration">
    <h3> And the winner is...</h3>
    <h1> <span id="winnerName"> </span> </h1>
    </section>

    <!-- Player Table sorted by ascending points -->
    <section>
        <table id="pointTable">
            {% for player in game.get_player_list_by_points() %}
                <tr>
                    <td class="avatarTD">
                        <img class="playerAvatar" src="{{ player.avatar() }}" alt="{{ player.name() }}'s avatar">
                    </td>
                    <td class="nameTD">
                        <span class="playerName"> {{ player.name() }} </span>
                    </td>
                    <td class="pointTD">
                        <span class="playerPoints"> {{ player.total_points() }}</span>
                    </td>
                </tr>
            {% endfor %}
        </table>

        <!-- Button to Homescreen -->
        <p>
            <button class="btn" id="landingPageRedirectBtn">Another Game!</button>
        </p>
    </section>

    <!-- JavaScript -->
    <script src="/static/js/confetti.min.js"></script>
    <script src="/static/js/end_of_game.js"></script> <!--Give credit: https://www.cssscript.com/confetti-falling-animation/-->

{% endblock %}
