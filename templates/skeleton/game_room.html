{% extends "skeleton/base.html" %}

{% block extra_css %}
<link rel="stylesheet" href="/static/css/game_room.css">
{% endblock %}

{% block page_title %}Pied Piper Game Room{% endblock %}

{% block extra_body_tags %} data-round-no="{{ game.get_round_no() }}" {%  endblock %}

{% block standard_header %}{% endblock %}

{% block content %}

    <!-- Point Table -->
    <section id="playerOverview">
        {% for player in game.get_player_list() %}
            <span class="player" data-player-id="{{ player.id() }}">
                <img class="avatar" src="{{ player.avatar() }}">
                <span class="playerInfo">
                    <span class="name">{{ player.name() }} </span>
                    <span class="pointWrapper">
                        <span class = "totalPoints"> {{ player.total_points() }} </span>
                        <span>+</span>
                        <span class = "currentPoints"> {{ player.current_points() }} </span>
                        <span class = "eatenPoints animate__animated animate__fadeOutUp">&nbsp &nbsp &nbsp &nbsp {{ player.last_eaten_points() }}</span>
                    </span>
                </span>
            </span>
        {% endfor %}
    </section>

    <!-- Stacks -->
    <section id="stacks">
        <table>
            {% for i in range(6) %}
                <tr>
                    {% for j in range(4) %}
                    <td> </td>
                    {% endfor %}
                </tr>
            {% endfor %}
        </table>
    </section>

    <!-- Player's Hand -->
    <section id="hand">
        <div id="handCards">
        {% for card in player.hand() %}
            <div class="card" data-card-value="{{ card.value() }}">
                {% if card.ochsen() == 1 %}
                <img class='ochsen' src='/static/images/card_avatar/Rattsie Card Background.png' alt='one rat'>
                {% elif card.ochsen() == 2 %}
                <img class='ochsen' src='/static/images/card_avatar/two_rats.png' alt='two rats'>
                {% elif card.ochsen() == 3 %}
                <img class='ochsen' src='/static/images/card_avatar/three_rats.png' alt='three rats'>
                {% elif card.ochsen() == 5 %}
                <img class='ochsen' src='/static/images/card_avatar/five_rats.png' alt='five rats'>
                {% elif card.ochsen() == 7 %}
                <img class='ochsen' src='/static/images/card_avatar/seven_rats.png' alt='seven rats'>
                {% endif %}
                <span class="cardValue"> {{ card.value() }} </span> <br>
            </div>
        {% endfor %}
        </div>
        <form id="confirmCardForm" class="hidden">
            Do you want to confirm card <span id=chosenCardValue> </span>?
            <input type="submit" value="Yes" class="btn">
        </form>
        <div id="waitingForOthers" class="hidden">
            Waiting for other players to choose their card
        </div>
    </section>

    <!-- JavaScript -->
    <script src="/static/js/game_room.js"></script>
{% endblock %}
